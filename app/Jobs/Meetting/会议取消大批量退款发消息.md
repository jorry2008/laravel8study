### 这个方案需要单独拿出来讲
涉及到幂等、原子锁、并发 等...

> **最优方案：** <br />
> 设计三个任务：会议取消分发任务、退款任务、消息发送任务。 <br />
> 1.task1 任务取消时，直接修改会议状态，将所有用户退款分发到退款任务。 <br />
> 2.task2 每个退款任务执行退款时，成功便分发给对应的消息提醒任务，注意重试机制。 <br />
> 3.task3 直接消费消息发送任务即可，注意重试机制。 <br />
> 4.三个队列任务，交替运行即可  <br />
> php artisan queue:work --queue=q1,q2,q3 <br />
> php artisan queue:work --queue=q2,q3,q1 <br />
> php artisan queue:work --queue=q3,q1,q2 <br />
> 三个进程，每个所有队列任务被执行的几率完全一样。 <br />

新问题：
- task1执行过程中，有失败，导致重试如何保证幂等？
- task2和task3，对于同一个退款而言，如何保证退款、发信、状态回写 三者同步完成？
- 其中，退款为第三方服务，如何保证退款成功，但因网络问题回调失败，导致重试进而导致重复退款？


